(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{268:function(e,a,s){"use strict";s.r(a);var t=s(29),n=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"怎样运行嗨学题库组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#怎样运行嗨学题库组件"}},[e._v("#")]),e._v(" 怎样运行嗨学题库组件")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("exam 是题库组件代码位置")])]),e._v(" "),s("li",[s("p",[e._v("hxkt-rn 是嗨学的RN 业务代码")])]),e._v(" "),s("li",[s("p",[e._v("jjxt-rn 是精进RN 业务代码")])])]),e._v(" "),s("p",[e._v("说明: 后两者依赖前者")]),e._v(" "),s("p",[e._v("exam 下面有三个包 packages")]),e._v(" "),s("p",[e._v("在根路径下面装依赖")]),e._v(" "),s("p",[e._v("yarn start 会先执行清理文件和靠背静态文件的动作, 核心就是变异代码, copy png 文件到对对应的目录下面去, 层级保持一致")]),e._v(" "),s("p",[e._v("然后然后通过文件监听服务, 将包下面的dist 目录 同步到 对应的业务代码组件库(hxkt-rn, jjxt-rn)")]),e._v(" "),s("p",[e._v("文件监听通过 wml 服务实现;")]),e._v(" "),s("p",[e._v("wml 需要全局安装")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" i wml -g\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("wml 依赖了 fb-watchman 这个包, 这个包又依赖了, 系统的watchman,")]),e._v(" "),s("p",[e._v("因为在windows 中, 要先安装choco 命令")]),e._v(" "),s("p",[e._v("下载地址:"),s("a",{attrs:{href:"https://objects.githubusercontent.com/github-production-release-asset-2e65be/28647218/b8bb6489-b26b-4507-bdce-431225c1fa08?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=releaseassetproduction%2F20250611%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250611T082620Z&X-Amz-Expires=300&X-Amz-Signature=d431f7f8e906550204072a7efd193dbdaa05d5b31e0e8ce44b0ca1f07a54a9e2&X-Amz-SignedHeaders=host&response-content-disposition=attachment%3B%20filename%3Dchocolatey-2.4.3.0.msi&response-content-type=application%2Foctet-stream",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://objects.githubusercontent.com/github-production-release-asset-2e65be/28647218/b8bb6489-b26b-4507-bdce-431225c1fa08?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=releaseassetproduction%2F20250611%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250611T082620Z&X-Amz-Expires=300&X-Amz-Signature=d431f7f8e906550204072a7efd193dbdaa05d5b31e0e8ce44b0ca1f07a54a9e2&X-Amz-SignedHeaders=host&response-content-disposition=attachment%3B%20filename%3Dchocolatey-2.4.3.0.msi&response-content-type=application%2Foctet-stream"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://alidocs.dingtalk.com/i/nodes/m9bN7RYPWdlGk7r7foBvBj97WZd1wyK0?doc_type=wiki_doc&iframeQuery=anchorId%3DX02mbu5srnqx97sbxin4ds",target:"_blank",rel:"noopener noreferrer"}},[e._v("请至钉钉文档查看附件《chocolatey-2.4.3.0.msi》"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("安装完成后将程序的bin目录设置到 系统的环境变量中去;")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/3BMqYyb05byVEqwZ/img/4bea1761-23c9-4cbd-b0d8-b457ff485456.png",alt:"image.png"}})]),e._v(" "),s("p",[e._v("然后全局安装watchman 命令:")]),e._v(" "),s("p",[e._v("参考网址:"),s("a",{attrs:{href:"https://community.chocolatey.org/packages/watchman",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://community.chocolatey.org/packages/watchman"),s("OutboundLink")],1)]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("choco "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" watchman\n\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[e._v("watch wml 安装目录("),s("strong",[e._v("很重要")]),e._v(")")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("watchman "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("watch")]),e._v(" C:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Users"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("11840")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("AppData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Local"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("nvm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("v16.20.2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("node_modules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("wml"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("src\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("添加watch copy 的路径")]),e._v(" "),s("div",{staticClass:"language-powershell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[e._v("wml add D:\\workspace\\exam\\packages\\exam"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("core  D:\\workspace\\hxkt"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("rn\\node_modules\\@hx\\exam"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n    \n\n\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("p",[e._v("启动监听服务")]),e._v(" "),s("div",{staticClass:"language-powershell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[e._v("wml "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("start")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("备注: 查看监听文件列表")]),e._v(" "),s("p",[e._v("wml list")]),e._v(" "),s("p",[e._v("每次add 之后都会返回一个linkId")]),e._v(" "),s("p",[e._v("wml start 会启动全部的监听服务")]),e._v(" "),s("p",[e._v("两个项目都run 起来之后, 打开测试包, 进入章节精炼(RN页面)")]),e._v(" "),s("p",[e._v("摇动手机, 设置 boundle 地址: 本机IP+ 8081 端口, 连接失败 , 可以点击reload")]),e._v(" "),s("p",[e._v("接口调用需要使用电脑抓包手机请求数据")]),e._v(" "),s("p",[e._v("调试输入需要再 hxkt-rn 或者jjxt-rn 查看输出")]),e._v(" "),s("p",[e._v("fe-npm-exam  打包 rn 业务组件的, 里面有web,RN 和core 改动了哪个发布哪个")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/3BMqYyb05byVEqwZ/img/3f32dc37-d9bb-422d-af1e-61ac0319b4cb.png",alt:"image.png"}})]),e._v(" "),s("p",[e._v("下面的H5 没有用到")]),e._v(" "),s("p",[e._v("app 发布找测试用jinkens 任务发布")])])}),[],!1,null,null,null);a.default=n.exports}}]);