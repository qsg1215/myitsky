# 企微和个人为微信环境判断的问题

在企微内分享的时候, 要注意  在企微 ww.**register 如果执行了个人微信的wx.config 会导致wx.config 执行两次, 所以需要严格判断回微信环境**

**微信环境有三种** 

**一是不是微信环境**

**二是微信, 但是不是企微**

**三是又是个人微信, 又是企微**

**企微环境的UA:** Mozilla/5.0 (Linux, Android 11,PCKM80 Build/RP1A.200720.011wv)AppleWebKit/537.36(KHTMLlike Gecko)Version/4.0 Chrome/109.0.5414.86 MQQBrowser/6.2TBS/047001 Mobile Safari/537.36 wxwork/4.1.30 MicroMessenger/7.0.1 NetType/WIFILanguage/zhLang/zh ColorScheme/Light wwmver/

3.26.13.631

可以看到 关键字  MicroMessenger 存在的  wxwork 也是存在的

所以可以理解为, 企微的前提要是微信, 不可能只是微信

所以判断存粹的微信环境要排除企微

换句话说微信不一定是企微, 但是企微一定是微信