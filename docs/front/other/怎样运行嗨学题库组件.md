# 怎样运行嗨学题库组件

1.  exam 是题库组件代码位置
    
2.  hxkt-rn 是嗨学的RN 业务代码
    
3.  jjxt-rn 是精进RN 业务代码
    

说明: 后两者依赖前者

exam 下面有三个包 packages

在根路径下面装依赖

yarn start 会先执行清理文件和靠背静态文件的动作, 核心就是变异代码, copy png 文件到对对应的目录下面去, 层级保持一致

然后然后通过文件监听服务, 将包下面的dist 目录 同步到 对应的业务代码组件库(hxkt-rn, jjxt-rn)

文件监听通过 wml 服务实现;

wml 需要全局安装 

```shell
npm i wml -g
```

wml 依赖了 fb-watchman 这个包, 这个包又依赖了, 系统的watchman,

因为在windows 中, 要先安装choco 命令

下载地址:[https://objects.githubusercontent.com/github-production-release-asset-2e65be/28647218/b8bb6489-b26b-4507-bdce-431225c1fa08?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=releaseassetproduction%2F20250611%2Fus-east-1%2Fs3%2Faws4\_request&X-Amz-Date=20250611T082620Z&X-Amz-Expires=300&X-Amz-Signature=d431f7f8e906550204072a7efd193dbdaa05d5b31e0e8ce44b0ca1f07a54a9e2&X-Amz-SignedHeaders=host&response-content-disposition=attachment%3B%20filename%3Dchocolatey-2.4.3.0.msi&response-content-type=application%2Foctet-stream](https://objects.githubusercontent.com/github-production-release-asset-2e65be/28647218/b8bb6489-b26b-4507-bdce-431225c1fa08?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=releaseassetproduction%2F20250611%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250611T082620Z&X-Amz-Expires=300&X-Amz-Signature=d431f7f8e906550204072a7efd193dbdaa05d5b31e0e8ce44b0ca1f07a54a9e2&X-Amz-SignedHeaders=host&response-content-disposition=attachment%3B%20filename%3Dchocolatey-2.4.3.0.msi&response-content-type=application%2Foctet-stream)

[请至钉钉文档查看附件《chocolatey-2.4.3.0.msi》](https://alidocs.dingtalk.com/i/nodes/m9bN7RYPWdlGk7r7foBvBj97WZd1wyK0?doc_type=wiki_doc&iframeQuery=anchorId%3DX02mbu5srnqx97sbxin4ds)

安装完成后将程序的bin目录设置到 系统的环境变量中去;

![image.png](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/3BMqYyb05byVEqwZ/img/4bea1761-23c9-4cbd-b0d8-b457ff485456.png)

然后全局安装watchman 命令:

参考网址:[https://community.chocolatey.org/packages/watchman](https://community.chocolatey.org/packages/watchman)

```shell
choco install watchman

```

watch wml 安装目录(**很重要**)

```shell
watchman watch C:\Users\11840\AppData\Local\nvm\v16.20.2\node_modules\wml\src
```

添加watch copy 的路径

```powershell
wml add D:\workspace\exam\packages\exam-core  D:\workspace\hxkt-rn\node_modules\@hx\exam-core;
    


```

启动监听服务

```powershell
wml start
```

备注: 查看监听文件列表 

wml list

每次add 之后都会返回一个linkId

wml start 会启动全部的监听服务

两个项目都run 起来之后, 打开测试包, 进入章节精炼(RN页面)

摇动手机, 设置 boundle 地址: 本机IP+ 8081 端口, 连接失败 , 可以点击reload

接口调用需要使用电脑抓包手机请求数据

调试输入需要再 hxkt-rn 或者jjxt-rn 查看输出

fe-npm-exam  打包 rn 业务组件的, 里面有web,RN 和core 改动了哪个发布哪个

![image.png](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/3BMqYyb05byVEqwZ/img/3f32dc37-d9bb-422d-af1e-61ac0319b4cb.png)

下面的H5 没有用到

app 发布找测试用jinkens 任务发布